server {
	listen 80 default_server;
	listen [::]:80 default_server ipv6only=on;

	root /home/aakash/projects/ontrack;
	index index.html index.htm;

	server_name ontrack.aakashgoel.com;

	location / {
		# First attempt to serve request as file, then
		# as directory, then fall back to displaying a 404.
		try_files $uri $uri/ /index.html;
		# Uncomment to enable naxsi on this location
		# include /etc/nginx/naxsi.rules
	}
}


server {
#listen/server_name/alias here.
  root /home/aakash/projects/gwg-website/dist;
  try_files $uri $uri.html $uri/ @notfound;
  server_name guitarwith.guru;
  error_page   404  =  /404.html;

  ssl_session_timeout  5m;

  ssl_protocols  SSLv2 SSLv3 TLSv1;
  ssl_ciphers  HIGH:!aNULL:!MD5;
  ssl_prefer_server_ciphers   on;
  keepalive_timeout 10;

  location ~* \.(css|js|gif|jpe?g|png)$ {
    expires 1h;
    add_header Pragma public;
    add_header Cache-Control "public, must-revalidate, proxy-revalidate";
  }

  location / {
    try_files $uri /index.html; 
  }

  location @notfound {
    try_files /404.html =404;
  }
}


server {
#listen/server_name/alias here.
  root /home/aakash/projects/gwg-website/dist;
  try_files $uri $uri.html $uri/ @notfound;
  server_name guitarwithguru.aakashgoel.com;
  error_page   404  =  /404.html;

  ssl_session_timeout  5m;

  ssl_protocols  SSLv2 SSLv3 TLSv1;
  ssl_ciphers  HIGH:!aNULL:!MD5;
  ssl_prefer_server_ciphers   on;
  keepalive_timeout 10;

  location ~* \.(css|js|gif|jpe?g|png)$ {
    expires 1h;
    add_header Pragma public;
    add_header Cache-Control "public, must-revalidate, proxy-revalidate";
  }

  location / {
    try_files $uri /index.html; 
  }

  location @notfound {
    try_files /404.html =404;
  }
}


server {
#listen/server_name/alias here.
  root /home/aakash/projects/gwg/dist;
  try_files $uri $uri.html $uri/ @notfound;
  server_name gwg.aakashgoel.com;
  error_page   404  =  /404.html;

  ssl_session_timeout  5m;

  ssl_protocols  SSLv2 SSLv3 TLSv1;
  ssl_ciphers  HIGH:!aNULL:!MD5;
  ssl_prefer_server_ciphers   on;
  keepalive_timeout 10;

  location ~* \.(css|js|gif|jpe?g|png)$ {
    expires 1h;
    add_header Pragma public;
    add_header Cache-Control "public, must-revalidate, proxy-revalidate";
  }

  location @notfound {
    try_files /404.html =404;
  }
}

# another virtual host using mix of IP-, name-, and port-based configuration
#
#server {
#	listen 8000;
#	listen somename:8080;
#	server_name somename alias another.alias;
#	root html;
#	index index.html index.htm;
#
#	location / {
#		try_files $uri $uri/ =404;
#	}
#}


# HTTPS server
#
#server {
#	listen 443;
#	server_name localhost;
#
#	root html;
#	index index.html index.htm;
#
#	ssl on;
#	ssl_certificate cert.pem;
#	ssl_certificate_key cert.key;
#
#	ssl_session_timeout 5m;
#
#	ssl_protocols SSLv3 TLSv1;
#	ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv3:+EXP;
#	ssl_prefer_server_ciphers on;
#
#	location / {
#		try_files $uri $uri/ =404;
#	}
#}
