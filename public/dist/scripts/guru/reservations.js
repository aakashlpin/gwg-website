var ReservationManager;ReservationManager=React.createClass({getInitialState:function(){return{reservations:[],students:[],courses:[]}},componentWillMount:function(){return $.getJSON("/api/guru/reservations",function(a){return function(b){return a.setState({reservations:b.reservations,students:b.students,courses:b.courses})}}(this))},render:function(){var a,b,c,d,e;return d=function(){return React.DOM.div(null,React.DOM.h3(null,"Reservations"),React.DOM.p({className:"text-light gwg-callout gwg-callout-info"}," List of upcoming reservations for your courses "))},c=function(a){return function(b){return _.find(a.state.courses,function(a){return a._id===b}).name}}(this),e=function(a){return function(b){return _.find(a.state.students,function(a){return a._id===b}).name}}(this),b=function(a){return function(){return a.state.reservations.map(function(a){return React.DOM.tr(null,React.DOM.td(null,moment(a.start).format("ddd, MMMM Do 'YY, h:mm a")),React.DOM.td(null,c.call(this,a.courseId)),React.DOM.td(null,e.call(this,a.studentId)))})}}(this),a=function(){return React.DOM.div(null,React.DOM.table({className:"table table-striped table-hover"},React.DOM.thead(null,React.DOM.tr(null,React.DOM.th(null,"On"),React.DOM.th(null,"For course"),React.DOM.th(null,"By student"))),React.DOM.tbody(null,b.call(this))))},this.state.reservations.length?React.DOM.div(null,d.call(this),a.call(this)):React.DOM.div(null,d.call(this))}}),React.renderComponent(ReservationManager({}),document.getElementById("reservationsContent"));